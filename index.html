<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#111827" />
  <title>Mis Herramientas</title>
  <style>
    :root {
      color-scheme: light dark;
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --primary: #2563eb;
      --accent: #16a34a;
      --danger: #ef4444;
      --border: #e5e7eb;
      --ring: rgba(37, 99, 235, 0.2);
      --accent-bg: rgba(22, 163, 74, 0.1);
      --accent-border: rgba(22, 163, 74, 0.3);
      --radius: 14px;
      --shadow: 0 1px 2px rgba(0,0,0,0.04);
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #0b1220;
        --card: #0e1628;
        --text: #e5e7eb;
        --muted: #9aa4b2;
        --border: #182033;
        --shadow: 0 1px 2px rgba(0,0,0,0.5);
        --ring: rgba(59,130,246,0.25);
        --accent-bg: rgba(22, 163, 74, 0.15);
        --accent-border: rgba(22, 163, 74, 0.4);
      }
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      padding: 24px;
    }

    /* Contenedor principal para centrar todo */
    .wrapper {
      max-width: 640px;
      margin: 0 auto;
      display: grid;
      gap: 24px;
    }

    .card {
      width: 100%;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px 20px;
    }
    .header {
      display: flex; align-items: baseline; justify-content: space-between; gap: 8px; margin-bottom: 8px;
    }
    .title {
      font-weight: 700; letter-spacing: -0.02em;
      font-size: clamp(18px, 2.2vw, 22px);
    }
    .subtle { color: var(--muted); font-size: 12px; }
    .form { display: grid; gap: 18px; margin-top: 10px; }
    .field { display: grid; gap: 8px; }
    .field-head {
      display: flex; align-items: center; justify-content: space-between; gap: 10px; flex-wrap: wrap;
    }
    label { color: var(--muted); font-size: 14px; font-weight: 500; }
    .control { position: relative; display: flex; align-items: center; }
    input[type="text"], input[type="number"] {
      width: 100%; padding: 14px 14px;
      border: 1px solid var(--border); background: transparent;
      border-radius: 12px; color: var(--text);
      font-size: 16px; line-height: 1; outline: none;
      transition: border-color .18s ease, box-shadow .18s ease;
    }
    input::placeholder { color: #9aa3af80; }
    input:focus { border-color: var(--primary); box-shadow: 0 0 0 4px var(--ring); }
    .suffix {
      position: absolute; right: 10px; top: 50%; transform: translateY(-50%);
      font-size: 12px; color: var(--muted); pointer-events: none;
      padding: 4px 8px; border-radius: 8px; background: transparent; border: 1px solid var(--border);
    }
    .note { font-size: 12px; color: var(--muted); }
    .invalid input { border-color: var(--danger); }
    .invalid input:focus { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.2); }

    .btn {
      appearance: none; cursor: pointer; border-radius: 10px; line-height: 1; display: inline-flex; align-items: center; gap: 8px;
      font-size: 13px; padding: 10px 12px; border: 1px solid var(--border); background: transparent; color: var(--text);
      transition: background .18s ease, border-color .18s ease, transform .05s ease;
      text-decoration: none;
    }
    .btn:hover { background: rgba(148,163,184,0.08); }
    .btn:active { transform: translateY(1px); }
    .btn.primary { border-color: rgba(37,99,235,0.35); background: rgba(37,99,235,0.08); color: var(--text); }
    .btn.link { color: var(--primary); border-color: rgba(37,99,235,0.25); }
    .btn.sm { padding: 8px 10px; font-size: 12px; border-radius: 8px; }

    .result {
      margin-top: 6px; padding: 16px;
      border: 1px solid var(--border); border-radius: 12px;
      display: grid; gap: 6px; background: transparent;
    }
    .result .label { font-size: 12px; color: var(--muted); }
    .result .value {
      font-weight: 800; letter-spacing: -0.02em;
      font-size: clamp(26px, 4.5vw, 34px); color: var(--accent);
    }
    .meta { font-size: 13px; color: var(--muted); }
    .actions { display: flex; gap: 8px; margin-top: 2px; flex-wrap: wrap; }

    /* --- COMPARADOR DE PRODUCTOS --- */
    .productos { display: grid; gap: 16px; }
    .producto {
      background: transparent;
      padding: 18px;
      border-radius: 12px;
      border: 1px solid var(--border);
      transition: all 0.25s ease;
    }
    .producto.mejor {
      background: var(--accent-bg);
      border-color: var(--accent-border);
      border-width: 2px;
    }
    .producto h3 {
      color: var(--text);
      margin-bottom: 12px;
      font-size: 16px;
      font-weight: 600;
    }
    .input-group {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 12px;
    }
    .resultado-comparador {
      background: transparent;
      padding: 14px;
      border-radius: 10px;
      text-align: center;
      border: 1px solid var(--border);
    }
    .precio-unidad {
      font-size: 22px;
      font-weight: 700;
      color: var(--text);
      letter-spacing: -0.01em;
    }
    .unidad-texto {
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }
    .mejor .resultado-comparador {
      background: var(--accent-bg);
      border-color: var(--accent);
      border-width: 2px;
    }
    .mejor .precio-unidad {
      color: var(--accent);
    }
    .badge {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      margin-top: 8px;
    }

    .divider {
      height: 1px;
      background: var(--border);
      margin: 30px 0;
    }

    .footer { margin-top: 12px; text-align: center; font-size: 12px; color: var(--muted); }

    @media (max-width: 500px) {
      .input-group { grid-template-columns: 1fr; }
    }
    @media (prefers-reduced-motion: reduce) { * { transition: none !important; } }
  </style>
</head>
<body>
  <div class="wrapper">
    
    <!-- ==================== CALCULADORA DE SOLES ==================== -->
    <main class="card" role="main">
      <div class="header">
        <div class="title">ðŸ’± Calculadora de Soles</div>
        <div class="subtle" id="bcvUpdated">â€”</div>
      </div>

      <form class="form" autocomplete="off" onsubmit="return false">
        <div class="field" id="wrap-bcv">
          <div class="field-head">
            <label for="bcvRate">Tasa BCV (USD/VES)</label>
            <div style="display:inline-flex; gap:8px; flex-wrap:wrap;">
              <button id="fetchBCVBtn" type="button" class="btn sm primary" title="Obtener automÃ¡ticamente desde el BCV">âŸ³ Actualizar</button>
              <a id="bcvLink" class="btn sm link" href="https://www.bcv.org.ve/glosario/cambio-oficial" target="_blank" rel="noopener noreferrer" title="Abrir sitio del BCV (nueva pestaÃ±a)">Ver BCV â†—</a>
            </div>
          </div>
          <div class="control">
            <input id="bcvRate" type="text" inputmode="decimal" placeholder="Ej: 231.04620000" aria-describedby="bcvNote" spellcheck="false" />
            <span class="suffix">USD â†’ VES</span>
          </div>
          <div id="bcvNote" class="note">Se obtiene automÃ¡ticamente. Puedes editarla.</div>
        </div>

        <div class="field" id="wrap-company">
          <label for="companyRate">Tasa de la empresa (VES/PEN)</label>
          <div class="control">
            <input id="companyRate" type="text" inputmode="decimal" placeholder="Ej: 0.00002010" aria-describedby="companyNote" spellcheck="false" />
            <span class="suffix">VES â†’ PEN</span>
          </div>
          <div id="companyNote" class="note">BolÃ­vares por 1 sol.</div>
        </div>

        <div class="field" id="wrap-usd">
          <label for="usdAmount">Monto a enviar (USD)</label>
          <div class="control">
            <input id="usdAmount" type="text" inputmode="decimal" placeholder="Ej: 500" aria-describedby="usdNote" spellcheck="false" />
            <span class="suffix">USD</span>
          </div>
          <div id="usdNote" class="note">Cantidad de USD a transferir.</div>
        </div>
      </form>

      <section class="result" aria-live="polite">
        <div class="label">Monto en soles a transferir</div>
        <div class="value" id="resultValue">â€”</div>
        <div class="meta" id="implicitRate">(Tasa implÃ­cita: 1 USD = â€” PEN)</div>
        <div class="actions">
          <button class="btn primary" id="copyBtn" type="button">Copiar resultado</button>
          <button class="btn" id="resetBtn" type="button">Limpiar</button>
        </div>
      </section>
    </main>

    <!-- ==================== COMPARADOR DE PRODUCTOS ==================== -->
    <section class="card">
      <div class="header">
        <div class="title">ðŸ›’ Comparador de Productos</div>
      </div>
      <p class="note" style="margin-bottom: 16px;">Descubre cuÃ¡l producto tiene mejor precio por gramo</p>

      <div class="productos">
        <!-- Producto 1 -->
        <div class="producto" id="producto1">
          <h3>Producto 1</h3>
          <div class="input-group">
            <div class="field">
              <label for="cantidad1">Cantidad</label>
              <input type="number" id="cantidad1" placeholder="250" value="250" min="0" step="any">
            </div>
            <div class="field">
              <label for="precio1">Precio (S/)</label>
              <input type="number" id="precio1" placeholder="10" value="10" min="0" step="0.01">
            </div>
          </div>
          <div class="resultado-comparador">
            <div class="precio-unidad" id="resultado1">S/ 0.00</div>
            <div class="unidad-texto">por gramo</div>
          </div>
        </div>

        <!-- Producto 2 -->
        <div class="producto" id="producto2">
          <h3>Producto 2</h3>
          <div class="input-group">
            <div class="field">
              <label for="cantidad2">Cantidad</label>
              <input type="number" id="cantidad2" placeholder="500" value="500" min="0" step="any">
            </div>
            <div class="field">
              <label for="precio2">Precio (S/)</label>
              <input type="number" id="precio2" placeholder="60" value="60" min="0" step="0.01">
            </div>
          </div>
          <div class="resultado-comparador">
            <div class="precio-unidad" id="resultado2">S/ 0.00</div>
            <div class="unidad-texto">por gramo</div>
          </div>
        </div>
      </div>
    </section>

    <p class="footer">Tus datos se guardan localmente. Dark mode automÃ¡tico.</p>
  </div>

  <script>
    // ==================== CALCULADORA DE SOLES ====================
    const RACE_URLS = [
      'https://r.jina.ai/https://www.bcv.org.ve/glosario/cambio-oficial',
      'https://r.jina.ai/http://www.bcv.org.ve/glosario/cambio-oficial',
    ];
    const FETCH_TIMEOUT_MS = 7000;

    const fmtPEN = new Intl.NumberFormat('es-PE', { style: 'currency', currency: 'PEN', maximumFractionDigits: 2 });
    const fmt6   = new Intl.NumberFormat('es-PE', { minimumFractionDigits: 2, maximumFractionDigits: 6 });

    function parseLocaleNumber(value) {
      if (typeof value === 'number') return value;
      const s = (value || '').toString().trim();
      if (!s) return NaN;
      const hasComma = s.includes(',');
      const hasDot   = s.includes('.');
      let dec = '.';
      if (hasComma && hasDot) dec = s.lastIndexOf(',') > s.lastIndexOf('.') ? ',' : '.';
      else if (hasComma) dec = ',';
      const re = new RegExp('[^0-9\\' + dec + '\\-]', 'g');
      const cleaned = s.replace(re, '');
      const parts = cleaned.split(dec);
      if (parts.length === 1) return parseFloat(parts[0].replace(/[^\d\-]/g, ''));
      const integer = parts.slice(0, -1).join('').replace(/[^\d\-]/g, '');
      const decimal = parts[parts.length - 1].replace(/\D/g, '');
      const n = parseFloat(integer + '.' + decimal);
      return Number.isFinite(n) ? n : NaN;
    }
    const decimalsIn = (token) => {
      const m = (token || '').toString().match(/[.,](\d+)/);
      return m ? m[1].length : 0;
    };
    const isPlausibleRate = (val, decs) => val > 0.01 && val < 5000 && decs >= 2;

    function formatRate(n) {
      const num = Number(n);
      if (!Number.isFinite(num) || num <= 0) return '';
      return num.toFixed(8);
    }

    function detectBCVFromDOM(html) {
      try {
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const rows = doc.querySelectorAll('.row.recuadrotsmc, .recuadrotsmc');
        for (const row of rows) {
          if (!/USD/i.test(row.textContent || '')) continue;
          const node = row.querySelector('.centrado strong') || row.querySelector('strong, b');
          if (node && node.textContent) {
            const txt = node.textContent.trim();
            const val = parseLocaleNumber(txt);
            const decs = decimalsIn(txt);
            if (isPlausibleRate(val, decs)) return { value: val, token: txt, source: 'dom' };
          }
        }
        const strong = doc.querySelector('.recuadrotsmc .centrado strong') || doc.querySelector('.recuadrotsmc strong');
        if (strong) {
          const txt = strong.textContent.trim();
          const val = parseLocaleNumber(txt);
          const decs = decimalsIn(txt);
          if (isPlausibleRate(val, decs)) return { value: val, token: txt, source: 'dom-fallback' };
        }
      } catch {}
      return null;
    }

    function detectBCVFromText(text) {
      if (!text) return null;
      const norm = text.replace(/\u00A0/g, ' ').replace(/\s+/g, ' ');
      let m = /USD[\s\S]{0,120}?((?:\d{1,3}(?:[.\s]\d{3})+|\d+)(?:[.,]\d{2,8}))/i.exec(norm);
      if (m) {
        const val = parseLocaleNumber(m[1]); const decs = decimalsIn(m[1]);
        if (isPlausibleRate(val, decs)) return { value: val, token: m[1], source: 'text-window' };
      }
      m = /1\s*(?:USD|\$)\s*=\s*((?:\d{1,3}(?:[.\s]\d{3})+|\d+)(?:[.,]\d{2,8}))/i.exec(norm);
      if (m) {
        const val = parseLocaleNumber(m[1]); const decs = decimalsIn(m[1]);
        if (isPlausibleRate(val, decs)) return { value: val, token: m[1], source: 'text-equals' };
      }
      const rxNum = /(?:(?:\d{1,3}(?:[.,\s]\d{3})+)|\d+)(?:[.,]\d+)?/g;
      const kws = ['usd','bcv','cambio','oficial','ves','bs'];
      const candidates = [];
      let match;
      while ((match = rxNum.exec(norm)) !== null) {
        const token = match[0]; const idx = match.index;
        const val = parseLocaleNumber(token); const decs = decimalsIn(token);
        if (!Number.isFinite(val)) continue;
        const ctx = norm.slice(Math.max(0, idx - 60), Math.min(norm.length, idx + token.length + 60)).toLowerCase();
        let kwScore = 0; for (const k of kws) if (ctx.includes(k)) kwScore++;
        let score = 0;
        if (isPlausibleRate(val, decs)) score += 5;
        if (decs >= 4) score += 2;
        score += Math.min(kwScore, 3);
        candidates.push({ value: val, token, score });
      }
      candidates.sort((a,b)=>b.score-a.score);
      if (candidates[0] && candidates[0].score >= 5) return { value: candidates[0].value, token: candidates[0].token, source: 'text-general' };
      return null;
    }

    function detectBCV(text) {
      return detectBCVFromDOM(text) || detectBCVFromText(text);
    }

    const el = {
      bcv: document.getElementById('bcvRate'),
      company: document.getElementById('companyRate'),
      usd: document.getElementById('usdAmount'),
      resultValue: document.getElementById('resultValue'),
      implicit: document.getElementById('implicitRate'),
      copy: document.getElementById('copyBtn'),
      reset: document.getElementById('resetBtn'),
      fetch: document.getElementById('fetchBCVBtn'),
      bcvNote: document.getElementById('bcvNote'),
      bcvUpdated: document.getElementById('bcvUpdated'),
      wrap: {
        bcv: document.getElementById('wrap-bcv'),
        company: document.getElementById('wrap-company'),
        usd: document.getElementById('wrap-usd'),
      }
    };
    const originalBcvNote = el.bcvNote.textContent;

    const STORAGE_KEY = 'calc-soles-v1';
    function loadState() { try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); } catch { return {}; } }
    function saveState(extra = {}) {
      const state = { bcv: el.bcv.value, company: el.company.value, usd: el.usd.value, ...extra };
      try { localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); } catch {}
    }

    function calculate() {
      const bcv = parseLocaleNumber(el.bcv.value);
      const company = parseLocaleNumber(el.company.value);
      const usd = parseLocaleNumber(el.usd.value);

      [el.wrap.bcv, el.wrap.company, el.wrap.usd].forEach(w => w.classList.remove('invalid'));
      let valid = true;
      if (!(bcv > 0)) { el.wrap.bcv.classList.add('invalid'); valid = false; }
      if (!(company > 0)) { el.wrap.company.classList.add('invalid'); valid = false; }
      if (!(usd >= 0)) { el.wrap.usd.classList.add('invalid'); valid = false; }

      if (!valid) {
        el.resultValue.textContent = 'â€”';
        el.implicit.textContent = '(Tasa implÃ­cita: 1 USD = â€” PEN)';
        return;
      }

      const implicit = bcv / company;
      const pen = implicit * usd;

      el.resultValue.textContent = isFinite(pen) ? fmtPEN.format(pen) : 'â€”';
      el.implicit.textContent = `(Tasa implÃ­cita: 1 USD = ${fmt6.format(implicit)} PEN)`;
    }

    async function fetchBCVRate(silent = false) {
      const setLoading = (on) => {
        if (!silent) {
          el.fetch.disabled = on;
          el.fetch.textContent = on ? 'Buscandoâ€¦' : 'âŸ³ Actualizar';
        }
        el.bcvNote.textContent = on ? 'Obteniendo tasa del BCVâ€¦' : originalBcvNote;
      };

      setLoading(true);

      const controllers = RACE_URLS.map(() => new AbortController());
      let resolved = false;

      const attempt = (url, i) => new Promise(async (resolve, reject) => {
        const ctrl = controllers[i];
        const timer = setTimeout(() => ctrl.abort('timeout'), FETCH_TIMEOUT_MS);
        try {
          const res = await fetch(url, {
            method: 'GET',
            mode: 'cors',
            cache: 'no-store',
            redirect: 'follow',
            signal: ctrl.signal,
            headers: { 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' }
          });
          if (!res.ok) return reject(new Error('HTTP ' + res.status));
          const text = await res.text();
          const found = detectBCV(text);
          if (found?.value > 0) return resolve(found);
          return reject(new Error('No se detectÃ³ tasa'));
        } catch (e) {
          return reject(e);
        } finally {
          clearTimeout(timer);
        }
      });

      const promises = RACE_URLS.map((u, i) => attempt(u, i).then(found => {
        if (resolved) return;
        resolved = true;
        controllers.forEach((c, j) => { if (j !== i) try { c.abort(); } catch {} });
        return found;
      }));

      let winner = null;
      try {
        winner = await Promise.any(promises);
      } catch {}

      if (winner?.value > 0) {
        el.bcv.value = formatRate(winner.value);
        const now = new Date();
        el.bcvUpdated.textContent = `Actualizado ${now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}`;
        el.bcvNote.textContent = 'Tasa actualizada desde BCV';
        setTimeout(() => { el.bcvNote.textContent = originalBcvNote; }, 1600);
        calculate();
        saveState({ fetchedAt: Date.now(), fetchedFrom: 'r.jina.ai', method: winner.source });
        setLoading(false);
        return winner.value;
      } else {
        if (!silent) {
          el.bcvNote.textContent = 'No se pudo obtener automÃ¡ticamente. Usa "Ver BCV".';
          setTimeout(() => { el.bcvNote.textContent = originalBcvNote; }, 2600);
        }
        setLoading(false);
        return null;
      }
    }

    ['input', 'change'].forEach(ev => {
      el.bcv.addEventListener(ev, () => { calculate(); saveState(); });
      el.company.addEventListener(ev, () => { calculate(); saveState(); });
      el.usd.addEventListener(ev, () => { calculate(); saveState(); });
    });

    el.fetch.addEventListener('click', () => fetchBCVRate(false));

    el.copy.addEventListener('click', async () => {
      const text = `${el.resultValue.textContent} â€¢ ${el.implicit.textContent.replace(/[()]/g, '')}`;
      try {
        await navigator.clipboard.writeText(text);
        el.copy.textContent = 'Copiado';
        setTimeout(() => el.copy.textContent = 'Copiar resultado', 1400);
      } catch {
        el.copy.textContent = 'No se pudo copiar';
        setTimeout(() => el.copy.textContent = 'Copiar resultado', 1400);
      }
    });

    el.reset.addEventListener('click', () => {
      el.usd.value = '';
      calculate();
    });

    (async function init() {
      const state = loadState();
      if (!state.bcv) state.bcv = '231.04620000';
      el.bcv.value = state.bcv ?? '';
      el.company.value = state.company ?? '';
      el.usd.value = state.usd ?? '';

      if (state.fetchedAt) {
        const t = new Date(state.fetchedAt);
        el.bcvUpdated.textContent = `Actualizado ${t.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}`;
      } else {
        el.bcvUpdated.textContent = 'â€”';
      }

      calculate();
      fetchBCVRate(true);
    })();

    // ==================== COMPARADOR DE PRODUCTOS ====================
    const cantidad1 = document.getElementById('cantidad1');
    const precio1 = document.getElementById('precio1');
    const cantidad2 = document.getElementById('cantidad2');
    const precio2 = document.getElementById('precio2');
    const resultado1 = document.getElementById('resultado1');
    const resultado2 = document.getElementById('resultado2');
    const producto1Div = document.getElementById('producto1');
    const producto2Div = document.getElementById('producto2');

    function calcularYComparar() {
      const cant1 = parseFloat(cantidad1.value) || 0;
      const prec1 = parseFloat(precio1.value) || 0;
      const cant2 = parseFloat(cantidad2.value) || 0;
      const prec2 = parseFloat(precio2.value) || 0;

      const precioUnidad1 = cant1 > 0 ? prec1 / cant1 : 0;
      const precioUnidad2 = cant2 > 0 ? prec2 / cant2 : 0;

      resultado1.textContent = `S/ ${precioUnidad1.toFixed(4)}`;
      resultado2.textContent = `S/ ${precioUnidad2.toFixed(4)}`;

      producto1Div.classList.remove('mejor');
      producto2Div.classList.remove('mejor');

      const badge1 = producto1Div.querySelector('.badge');
      const badge2 = producto2Div.querySelector('.badge');
      if (badge1) badge1.remove();
      if (badge2) badge2.remove();

      if (precioUnidad1 > 0 && precioUnidad2 > 0) {
        if (precioUnidad1 < precioUnidad2) {
          producto1Div.classList.add('mejor');
          const badge = document.createElement('div');
          badge.className = 'badge';
          badge.textContent = 'âœ“ Mejor opciÃ³n';
          producto1Div.querySelector('.resultado-comparador').appendChild(badge);
        } else if (precioUnidad2 < precioUnidad1) {
          producto2Div.classList.add('mejor');
          const badge = document.createElement('div');
          badge.className = 'badge';
          badge.textContent = 'âœ“ Mejor opciÃ³n';
          producto2Div.querySelector('.resultado-comparador').appendChild(badge);
        }
      }
    }

    cantidad1.addEventListener('input', calcularYComparar);
    precio1.addEventListener('input', calcularYComparar);
    cantidad2.addEventListener('input', calcularYComparar);
    precio2.addEventListener('input', calcularYComparar);

    calcularYComparar();
  </script>
</body>
</html>
